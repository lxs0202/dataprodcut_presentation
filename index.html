<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<title>Presetation on Iris prediction application</title>
	<meta name="description" content="Presetation on Iris prediction application">
	<meta name="author" content="Stuart Lyu">
	<meta name="generator" content="slidify" />
	
	<!-- LOAD STYLE SHEETS -->
	<link rel="stylesheet" href="libraries/frameworks/html5slides/default/styles.css">
	<link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />  <link rel="stylesheet" href = "assets/css/ribbons.css">
  
</head>
<body style='display: none'>
	<section class='slides layout-regular template-regular'>
     <article class="" id="slide-1" style="background:;">
  <h3>Idea behind the application</h3>
  <ol>
<li>Predict iris species based on sepal length, sepal width, petal legth,petal width.</li>
<li>Based on the R default Iris dataset.</li>
<li>Utilize Randomforest for predictive modelling.</li>
</ol>

</article>

<article class="class" id="id" style="background:;">
  <h3>Building model</h3>
  <ol>
<li>break data set into training set and test set.</li>
<li>apply randomforest on the training set </li>
</ol>

<pre><code class="r">set.seed(1234)
ind &lt;- sample(2, nrow(iris), replace=TRUE, prob=c(0.7, 0.3))
trainData &lt;- iris[ind==1,]
testData &lt;- iris[ind==2,]
library(randomForest)
rf &lt;- randomForest(Species ~ ., data=trainData, ntree=100, proximity=TRUE)
</code></pre>

</article>

<article class="class" id="id" style="background:;">
  <h3>model performance</h3>
  <p>we apply the model to the test dataset and see the performance is pretty good.</p>

<pre><code>##             
## irisPred     setosa versicolor virginica
##   setosa         10          0         0
##   versicolor      0         12         2
##   virginica       0          0        14
</code></pre>

</article>

<article class="class" id="id" style="background:;">
  <h3>link model to web input</h3>
  <p>we then link the web input to our built model to show the predicting result</p>

<pre><code class="r">library(shiny)
predictiris &lt;- function(sepal_length, sepal_width, petal_length,petal_width,model=rf){
  data &lt;- data.frame(sepal_length)
  data$&quot;Sepal.Width&quot; &lt;- sepal_width
  data$&quot;Petal.Length&quot; &lt;- petal_length
  data$&quot;Petal.Width&quot; &lt;- petal_width
  names(data)[1] &lt;-&quot;Sepal.Length&quot;;
  irisPred &lt;- predict(rf, data)
  return(as.character(irisPred))
}


shinyServer(
  function(input, output) {
    output$inputValue &lt;- renderPrint({paste(input$sepal_length,input$sepal_width,input$petal_length,input$petal_width, sep=&quot;,&quot;)})
    output$prediction &lt;- renderPrint({predictiris(input$sepal_length,input$sepal_width,input$petal_length,input$petal_width)})
  }
  )
</code></pre>

</article>

<article class="class" id="id" style="background:;">
  <h3>web front end</h3>
  <p>our web front end is very straight forward. Just inputs of 4 Iris attributes and a submit button</p>

<pre><code class="r">library(shiny)
shinyUI(
  pageWithSidebar(
    # Application title
    headerPanel(&quot;Iris prediction&quot;),
    sidebarPanel(
      numericInput(&#39;sepal_length&#39;, &#39;Sepal Length&#39;, 1, min = 0.1, max =10 , step = 0.1),
      numericInput(&#39;sepal_width&#39;, &#39;Sepal Width&#39;, 1, min = 0.1, max =10 , step = 0.1),
      numericInput(&#39;petal_length&#39;, &#39;Petal Length&#39;, 1, min = 0.1, max =10 , step = 0.1),
      numericInput(&#39;petal_width&#39;, &#39;Petal Width&#39;, 1, min = 0.1, max =10 , step = 0.1),
      submitButton(&#39;Submit&#39;)
    ),
    mainPanel(
      h3(&#39;Results of prediction&#39;),
      h4(&#39;You entered&#39;),
      verbatimTextOutput(&quot;inputValue&quot;),
      h4(&#39;Which resulted in a prediction of &#39;),
      verbatimTextOutput(&quot;prediction&quot;),
      h4(&#39;User Guide&#39;),
      verbatimTextOutput(&quot;instruction&quot;)
    )
  )
)
</code></pre>

<p>&lt;!--html_preserve--&gt;<div class="container-fluid"></p>

<div class="row-fluid">
<div class="span12" style="padding: 10px 0px;">
<h1>Iris prediction</h1>
</div>

<p></div></p>

<div class="row-fluid">
<div class="span4">
<form class="well">
<label for="sepal_length">Sepal Length</label>
<input id="sepal_length" type="number" value="1" min="0.1" max="10" step="0.1"/>
<label for="sepal_width">Sepal Width</label>
<input id="sepal_width" type="number" value="1" min="0.1" max="10" step="0.1"/>
<label for="petal_length">Petal Length</label>
<input id="petal_length" type="number" value="1" min="0.1" max="10" step="0.1"/>
<label for="petal_width">Petal Width</label>
<input id="petal_width" type="number" value="1" min="0.1" max="10" step="0.1"/>
<div>
<button type="submit" class="btn btn-primary">Submit</button>
</div>

<p></form>
</div></p>

<div class="span8">
<h3>Results of prediction</h3>
<h4>You entered</h4>
<pre id="inputValue" class="shiny-text-output"></pre>
<h4>Which resulted in a prediction of </h4>
<pre id="prediction" class="shiny-text-output"></pre>
<h4>User Guide</h4>
<pre id="instruction" class="shiny-text-output"></pre>
</div>

<p></div>
</div>&lt;!--/html_preserve--&gt;</p>

</article>

  </section>
</body>
  <!-- LOAD JAVASCRIPTS  -->
	<script src='libraries/frameworks/html5slides/default/slides.js'></script>
	<!-- LOAD HIGHLIGHTER JS FILES -->
	<script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<!-- DONE LOADING HIGHLIGHTER JS FILES -->
	 
	</html>
